async function generateComparison(){const n=document.getElementById("topic1").value.trim(),t=document.getElementById("topic2").value.trim(),e=document.getElementById("output");if(!n||!t)return void(e.innerHTML='<p class="thinking">‚ùó Please enter both topics.</p>');e.innerHTML='<span class="loader"></span>';const o=`\nCompare "${n}" and "${t}" by giving 10 clear points for each in JSON format. \nStructure it like this:\n{\n  "${n}": ["point 1", "point 2", ..., "point 10"],\n  "${t}": ["point 1", "point 2", ..., "point 10"]\n}\nOnly return JSON, no explanation or Markdown formatting.\n      `.trim();try{const r=await fetch("https://hook.eu2.make.com/62ubza5bw3qs8q2li7ln8c2rkevo9u7q",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userMessage:o})}),s=await r.text();let a;try{a=JSON.parse(s)}catch{const n=s.match(/```json\s*([\s\S]+?)\s*```/);if(!n)throw new Error("Could not extract valid JSON.");a=JSON.parse(n[1])}function i(n,t){const e=Object.keys(n),o=t.toLowerCase();for(let n of e)if(n.toLowerCase()===o)return n;for(let n of e)if(n.toLowerCase().includes(o))return n;return null}const l=i(a,n),d=i(a,t),c=l?a[l]:[],p=d?a[d]:[];if(!c.length&&!p.length)return void(e.innerHTML=`<p class="thinking">‚ùå Could not find valid comparison points in the response.<br/>Available keys: ${Object.keys(a).join(", ")}</p>`);let h=`\n        <table>\n          <thead>\n            <tr><th>${l||n}</th><th>${d||t}</th></tr>\n          </thead><tbody>\n        `;const m=Math.max(c.length,p.length);for(let n=0;n<m;n++)h+=`<tr><td>${c[n]||""}</td><td>${p[n]||""}</td></tr>`;h+="</tbody></table>",e.innerHTML=h}catch(n){e.innerHTML=`<p class="thinking">‚ùå Error: ${n.message}</p>`}}fetch("https://opensheet.vercel.app/1AkEjmMgbF0zAX6hfWgm6_TYk-5gBqdWVltc_6er9SBA/Sheet1").then((n=>n.json())).then((n=>{if(!n||!n.length)return;const t=n[0];if("TRUE"!==t.shutdown){if("TRUE"===t.showBanner){const n=document.createElement("div");n.id="simple-banner",n.style="\n          position: fixed;\n          bottom: 20px;\n          right: 20px;\n          background-color: #fef08a;\n          color: #1a202c;\n          padding: 1rem 1.25rem;\n          border-radius: 10px;\n          box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n          font-family: sans-serif;\n          max-width: 300px;\n          z-index: 9999;\n        ",n.innerHTML=`\n          <div style="font-weight: bold;">${t.bannerHeading}</div>\n          <div>${t.bannerMessage}</div>\n          <div onclick="this.parentElement.remove()" style="\n            position: absolute;\n            top: 6px;\n            right: 10px;\n            cursor: pointer;\n            font-weight: bold;\n            font-size: 1.1rem;\n          ">√ó</div>\n        `,document.body.appendChild(n)}}else document.body.innerHTML='\n         <div style="display:flex;justify-content:center;align-items:center;height:100vh;text-align:center;font-family:sans-serif;padding:2rem;background:#111827;color:#f3f4f6;">\n            <div>\n              <h1 style="font-size:2rem;margin-bottom:1rem;">üõ†Ô∏è Under Maintenance</h1>\n              <p style="font-size:1.2rem;">Our tool is currently undergoing maintenance.<br>Please check back shortly.</p><br><strong>~Anish Bairagi</strong>\n            </div>\n          </div>'}));
const wordSlider=document.getElementById("wordLimit"),wordCount=document.getElementById("wordCount");function chng(e){wordCount.innerHTML=e}async function generateExplanation(){const e=document.getElementById("concept").value.trim(),n=document.getElementById("difficulty").value,t=document.getElementById("language").value,o=document.getElementById("format").value,i=document.getElementById("examples").checked,r=parseInt(document.getElementById("wordLimit").value),a=document.getElementById("output");a.innerHTML='<span class="loader"></span>';const s=`You are an AI expert in creating concept explainers. Please generate a clear, concise explanation of ${e} based on the specified ${r}, ${t}, language level ${n.toLowerCase()}, and ${o} format, ${i?", and include real-world examples":""}. Ensure it is tailored to the intended audience's comprehension level. don't use any special character for text formatting\n\n      `.trim();try{const e=await fetch("https://hook.eu2.make.com/62ubza5bw3qs8q2li7ln8c2rkevo9u7q",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userMessage:s})}),n=await e.text();let t;try{t=JSON.parse(n).aiResponse||n}catch{const e=n.match(/"aiResponse"\s*:\s*(.*)/s);if(!e)throw new Error("Could not extract AI response.");{let n=e[1].trim();n.endsWith("}")&&(n=n.slice(0,-1)),n.startsWith('"')&&n.endsWith('"')&&(n=n.slice(1,-1).replace(/\\"/g,'"')),t=n}}a.innerText=t}catch(e){a.innerText="‚ùå Error getting response: "+e.message}}function copyToClipboard(){const e=document.getElementById("output").innerText;navigator.clipboard.writeText(e).then((()=>{const e=document.getElementById("copyBtn");e.innerText="Copied!",setTimeout((()=>{e.innerText="Copy"}),2e3)}))}wordCount.innerHTML=100,wordSlider.value=100,fetch("https://opensheet.vercel.app/1AkEjmMgbF0zAX6hfWgm6_TYk-5gBqdWVltc_6er9SBA/Sheet1").then((e=>e.json())).then((e=>{if(!e||!e.length)return;const n=e[0];if("TRUE"!==n.shutdown){if("TRUE"===n.showBanner){const e=document.createElement("div");e.id="simple-banner",e.style="\n          position: fixed;\n          bottom: 20px;\n          right: 20px;\n          background-color: #fef08a;\n          color: #1a202c;\n          padding: 1rem 1.25rem;\n          border-radius: 10px;\n          box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n          font-family: sans-serif;\n          max-width: 300px;\n          z-index: 9999;\n        ",e.innerHTML=`\n          <div style="font-weight: bold;">${n.bannerHeading}</div>\n          <div>${n.bannerMessage}</div>\n          <div onclick="this.parentElement.remove()" style="\n            position: absolute;\n            top: 6px;\n            right: 10px;\n            cursor: pointer;\n            font-weight: bold;\n            font-size: 1.1rem;\n          ">√ó</div>\n        `,document.body.appendChild(e)}}else document.body.innerHTML='\n          <div style="display:flex;justify-content:center;align-items:center;height:100vh;text-align:center;font-family:sans-serif;padding:2rem;background:#111827;color:#f3f4f6;">\n            <div>\n              <h1 style="font-size:2rem;margin-bottom:1rem;">üõ†Ô∏è Under Maintenance</h1>\n              <p style="font-size:1.2rem;">Our tool is currently undergoing maintenance.<br>Please check back shortly.</p><br><strong>~Anish Bairagi</strong>\n            </div>\n          </div>'}));